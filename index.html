<!DOCTYPE html>

<meta charset="utf-8">
<html>
  <head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/data_polyfill.js"></script>
    <script src="js/d3.v5.js"></script>
    <script src="js/d3.layout.cloud.js"></script>
    <script src="js/turf.min.js"></script>
    <script src="js/EventData.js"></script>
    <script src="js/Cloud.js"></script>
    <script src="js/USMap.js"></script>
    <script src="js/DataFilter.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/jquery-3.3.1.slim.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-4 p-0">
            <div class="card w-100" style="height:400px">
              <div class="card-header bg-primary text-white">Categories:</div>
              <div class="card-body">
                <ul class="list-group" style="height: 250px">
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                  <li class="list-group-item"> List Item </li>
                </ul>
                <div class="btn-group-prepend"  role="group"  style="padding-top: 15px">
                  <button type="button" class="btn btn-primary">Select All</button>
                  <button type="button" style="width: 90px" class="btn btn-primary">Reset</button>
                </div>
                </div>
          </div>
        </div>
        <div class="col-4 p-0">
          <div id="cloudContainer" class="card w-100" style="height:400px">
            <div class="card-header bg-primary text-white">Word Map</div>
            <div class="m-0 p-0">
            </div>
          </div>
        </div>
        <div class="col-4 p-0">
          <div class="card w-100" style="height:400px">
            <div class="card-header bg-primary text-white">Words Used</div>
            <div class="card-body">
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-4 p-0">
          <div class="card w-100" style="height:400px">
            <div class="card-header bg-primary text-white">Map Controls</div>
            <div class="card-body">
            </div>
          </div>
        </div>
        <div class="col-8 p-0">
          <div id="mapContainer" class="card w-100" style="height: 400px">
            <div class="card-header bg-primary text-white">Frequency Map</div>
          </div>
        </div>
      </div>
    </div>
    <script>

      var stateList = [
      "ALABAMA", "ALASKA", "ARIZONA", "ARKANSAS",
      "CALIFORNIA", "COLORADO", "CONNECTICUT", "DELAWARE",
      "FLORIDA", "GEORGIA", "HAWAII", "IDAHO",
      "ILLINOIS", "INDIANA", "IOWA", "KANSAS",
      "KENTUCKY", "LOUISIANA", "MAINE", "MARYLAND",
      "MASSACHUSETTS", "MICHIGAN", "MINNESOTA", "MISSISSIPPI",
      "MISSOURI", "MONTANA", "NEBRASKA", "NEVADA",
      "NEW HAMPSHIRE", "NEW JERSEY", "NEW MEXICO", "NEW YORK",
      "NORTH CAROLINA", "NORTH DAKOTA", "OHIO", "OKLAHOMA",
      "OREGON", "PENNSYLVANIA", "RHODE ISLAND", "SOUTH CAROLINA",
      "SOUTH DAKOTA", "TENNESSEE", "TEXAS", "UTAH",
      "VERMONT", "VIRGINIA", "WASHINGTON", "WEST VIRGINIA",
      "WISCONSIN", "WYOMING"
      ];


      e = new EventData("data/StormEvents_2014.csv", "data/us-counties.json");
      let eventData = [];
      let map, cloud, filter;

      e.on("data", function(data) {
          states = {}
          counties = []

          map = new USMap(800,500);
          map.data = data[1].features;
          map.draw();
          $("#mapContainer").append(map.svg);

          words = []
          cloud = new Cloud(800, 800);
          $("#cloudContainer").append(cloud.svg);
          //$(cloud.svg).addClass("card-img-bottom");
          //$(cloud.svg).addClass("h-100");
          //cloud.svg.style.height = "100%";
          words = "Hi how are you my name is David. Good to meet you.".split(" ").map(function(x) {
            return {text: x, size: 20};
          });
          console.log(words);
          cloud.data = words;

          eventData = data[0]
          filter = new DataFilter(data[0]);

      })
      e.init()
    </script>
  </body>
</html>
